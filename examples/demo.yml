nodes:
  CreateStaticPage:
    editor:
      col: 3
      row: 1
    in:
      component: demo_component.js
      data: 'cocoon://FilterRanges_zuq9w/out/data'
    type: Template
    view: HTML
  DemoBasics:
    '?': >-
      Build simple network from scratch, importing data, visualising and
      filtering.
    editor:
      col: 0
      row: 3
    type: DemoStep
  DemoConcepts:
    '?': 'Show error isolation, persisted cache and node actions.'
    in:
      progress: 'cocoon://DemoBasics/out/progress'
    type: DemoStep
  DemoPipes:
    '?': >-
      Demonstrate interoperability with other languages by visualising the score
      statistics in R.
    in:
      progress: 'cocoon://DemoScore/out/progress'
    type: DemoStep
  DemoScore:
    '?': >-
      Show how to remove the complexity bias from the BGG data. Add MAD on
      `num_fans`.
    in:
      progress: 'cocoon://DemoViews/out/progress'
    type: DemoStep
  DemoViews:
    '?': >-
      Restore demo file and show synchronisation between multiple views and view
      state serialisation.
    in:
      progress: 'cocoon://DemoConcepts/out/progress'
    type: DemoStep
  FilterAndSort_d3yaq:
    editor:
      col: 4
      row: 0
    in:
      data: 'cocoon://FilterRows_noy1r/out/data'
    type: FilterAndSort
  FilterRanges_2nf2s:
    editor:
      col: 2
      row: 0
    in:
      data: 'cocoon://FilterRanges_uqtis/out/data'
    type: FilterRanges
    view: Scatterplot
    viewState:
      idDimension: title
      xDimension: playtime_min
      yDimension: playtime_max
  FilterRanges_uqtis:
    '?': Correlates complexity with rating.
    editor:
      col: 1
      row: 0
    in:
      data: 'cocoon://ImportBGGData/out/data'
    type: FilterRanges
    view: Scatterplot
    viewState:
      colorDimension: playtime_min
      idDimension: title
      sizeDimension: num_fans
      xDimension: complexity
      yDimension: rating_average
  FilterRanges_zuq9w:
    '?': Verifies that we removed the bias.
    editor:
      col: 2
      row: 1
    in:
      data: 'cocoon://RemoveBias/out/data'
    type: FilterRanges
    view: Scatterplot
    viewState:
      idDimension: title
      xDimension: complexity
      yDimension: score
  FilterRows_noy1r:
    editor:
      col: 3
      row: 0
    in:
      data: 'cocoon://FilterRanges_2nf2s/out/data'
    type: FilterRows
    view: Table
  ImportBGGData:
    '?': Imports top rated games from BoardGameGeek.
    editor:
      col: 0
      row: 0
    in:
      uri: 'https://www.dropbox.com/s/sc0swa9zea6v0cu/bgg.json?raw=1'
    persist: true
    type: ReadJSON
  RemoveBias:
    '?': Removes complexity bias.
    editor:
      col: 1
      row: 1
    in:
      config:
        score:
          metrics:
            decorrelate:
              attributes:
                - rating_average
                - complexity
              type: Decorrelate
      data: 'cocoon://ImportBGGData/out/data'
    type: Score
  TranslateDescriptions:
    '?': Annotates data with translations.
    editor:
      col: 1
      row: 2
    in:
      data: 'cocoon://ImportBGGData/out/data'
      path: demo_descriptions.json
    type: Annotate
  VisualiseInR:
    '?': Visualises scoring using an R script.
    editor:
      col: 2
      row: 2
    in:
      command: ./plot_score.r
      data: 'cocoon://RemoveBias/out/stats'
    type: PipeJSON
    view: Image
    viewState:
      src: score.png
