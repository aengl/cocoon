# Snapshot report for `packages/cocoon/src/nodes/data/MatchAttributes.test.ts`

The actual snapshot is saved in `MatchAttributes.test.ts.snap`.

Generated by [AVA](https://avajs.dev).

## allows multiple attributes and patterns

> matches

    {
      in: {
        data: [
          {
            a: 'foo',
            b: 'fOO',
            c: 'FOO',
          },
          {
            a: 'bar',
            b: 'bAR',
            c: 'BAR',
          },
          {
            a: 'baz',
            b: 'bAZ',
            c: 'BAZ',
          },
        ],
        match: {
          a: /f(oo)/,
          b: [
            /(.)OO/,
            /(.)AR/,
          ],
        },
      },
      out: {
        data: [
          {
            a: 'oo',
            b: 'f',
            c: 'FOO',
          },
          {
            a: 'bar',
            b: 'b',
            c: 'BAR',
          },
          {
            a: 'baz',
            b: 'bAZ',
            c: 'BAZ',
          },
        ],
        matched: [
          {
            a: 'oo',
            b: 'f',
            c: 'FOO',
          },
          {
            a: 'bar',
            b: 'b',
            c: 'BAR',
          },
        ],
        matches: {
          b: [
            [
              true,
              'f',
              [
                [
                  'foo',
                  'oo',
                  ---
                  groups: undefined,
                  index: 0,
                  input: 'foo',
                ],
                [
                  'fOO',
                  'f',
                  ---
                  groups: undefined,
                  index: 0,
                  input: 'fOO',
                ],
                null,
              ],
            ],
            [
              true,
              'b',
              [
                null,
                null,
                [
                  'bAR',
                  'b',
                  ---
                  groups: undefined,
                  index: 0,
                  input: 'bAR',
                ],
              ],
            ],
            [
              false,
              'bAZ',
              [
                null,
                null,
                null,
              ],
            ],
          ],
        },
        unmatched: [
          {
            a: 'baz',
            b: 'bAZ',
            c: 'BAZ',
          },
        ],
      },
    }

## creates new attributes

> matches

    {
      in: {
        data: [
          {
            a: 'foo',
          },
          {
            a: 'bar',
          },
        ],
        match: {
          a: /(?<b>.).*/,
        },
      },
      out: {
        data: [
          {
            a: 'foo',
            b: 'f',
          },
          {
            a: 'bar',
            b: 'b',
          },
        ],
        matched: [
          {
            a: 'foo',
            b: 'f',
          },
          {
            a: 'bar',
            b: 'b',
          },
        ],
        matches: {
          a: [
            [
              true,
              'foo',
              [
                [
                  'foo',
                  'f',
                  ---
                  groups: {
                    b: 'f',
                  },
                  index: 0,
                  input: 'foo',
                ],
              ],
            ],
            [
              true,
              'bar',
              [
                [
                  'bar',
                  'b',
                  ---
                  groups: {
                    b: 'b',
                  },
                  index: 0,
                  input: 'bar',
                ],
              ],
            ],
          ],
        },
        unmatched: [],
      },
    }

## leaves original data unchanged

> Snapshot 1

    {
      in: {
        data: [
          {
            a: 'foo',
          },
        ],
        match: {
          a: /.(..)/,
        },
      },
      out: {
        data: [
          {
            a: 'oo',
          },
        ],
        matched: [
          {
            a: 'oo',
          },
        ],
        matches: {
          a: [
            [
              true,
              'oo',
              [
                [
                  'foo',
                  'oo',
                  ---
                  groups: undefined,
                  index: 0,
                  input: 'foo',
                ],
              ],
            ],
          ],
        },
        unmatched: [],
      },
    }

## matches attributes

> matches

    {
      in: {
        data: [
          {
            a: 'foo',
          },
          {
            a: 'bar',
          },
          {
            a: 'baz',
          },
        ],
        match: {
          a: /b../,
        },
      },
      out: {
        data: [
          {
            a: 'foo',
          },
          {
            a: 'bar',
          },
          {
            a: 'baz',
          },
        ],
        matched: [
          {
            a: 'bar',
          },
          {
            a: 'baz',
          },
        ],
        matches: {
          a: [
            [
              false,
              'foo',
              [
                null,
              ],
            ],
            [
              true,
              'bar',
              [
                [
                  'bar',
                  ---
                  groups: undefined,
                  index: 0,
                  input: 'bar',
                ],
              ],
            ],
            [
              true,
              'baz',
              [
                [
                  'baz',
                  ---
                  groups: undefined,
                  index: 0,
                  input: 'baz',
                ],
              ],
            ],
          ],
        },
        unmatched: [
          {
            a: 'foo',
          },
        ],
      },
    }

## parses regular expression

> matches

    {
      in: {
        data: [
          {
            a: 'foo',
          },
          {
            a: 'bar',
          },
          {
            a: 'baz',
          },
        ],
        match: {
          a: '/B../i',
        },
      },
      out: {
        data: [
          {
            a: 'foo',
          },
          {
            a: 'bar',
          },
          {
            a: 'baz',
          },
        ],
        matched: [
          {
            a: 'bar',
          },
          {
            a: 'baz',
          },
        ],
        matches: {
          a: [
            [
              false,
              'foo',
              [
                null,
              ],
            ],
            [
              true,
              'bar',
              [
                [
                  'bar',
                  ---
                  groups: undefined,
                  index: 0,
                  input: 'bar',
                ],
              ],
            ],
            [
              true,
              'baz',
              [
                [
                  'baz',
                  ---
                  groups: undefined,
                  index: 0,
                  input: 'baz',
                ],
              ],
            ],
          ],
        },
        unmatched: [
          {
            a: 'foo',
          },
        ],
      },
    }

## rewrites attributes

> matches

    {
      in: {
        data: [
          {
            a: 'foo',
          },
          {
            a: 'bar',
          },
          {
            a: 'baz',
          },
        ],
        match: {
          a: /b(..)/,
        },
      },
      out: {
        data: [
          {
            a: 'foo',
          },
          {
            a: 'ar',
          },
          {
            a: 'az',
          },
        ],
        matched: [
          {
            a: 'ar',
          },
          {
            a: 'az',
          },
        ],
        matches: {
          a: [
            [
              false,
              'foo',
              [
                null,
              ],
            ],
            [
              true,
              'ar',
              [
                [
                  'bar',
                  'ar',
                  ---
                  groups: undefined,
                  index: 0,
                  input: 'bar',
                ],
              ],
            ],
            [
              true,
              'az',
              [
                [
                  'baz',
                  'az',
                  ---
                  groups: undefined,
                  index: 0,
                  input: 'baz',
                ],
              ],
            ],
          ],
        },
        unmatched: [
          {
            a: 'foo',
          },
        ],
      },
    }
